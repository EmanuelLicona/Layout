<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MiApp - Editar Perfil</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    body {
      font-family: 'Inter', sans-serif;
    }

    .sidebar-link:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .form-input:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .notification-dropdown {
      max-height: 350px;
      overflow-y: auto;
    }
  </style>
</head>

<body class="bg-gray-100">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <div id="sidebar" class="bg-gray-900 text-white w-64 flex-shrink-0 transition-all duration-300 md:block">
      <div class="p-4 text-2xl font-bold">
        MiApp
      </div>
      <nav class="mt-8">
        <a href="#" class="sidebar-link block px-4 py-2 text-gray-300 hover:text-white transition">
          <i class="fas fa-home mr-2"></i> Inicio
        </a>
        <div class="relative">
          <button id="dashboard-dropdown-button"
            class="sidebar-link w-full text-left px-4 py-2 text-gray-300 hover:text-white transition flex justify-between items-center">
            <div>
              <i class="fas fa-chart-bar mr-2"></i> Dashboards
            </div>
            <i id="dashboard-chevron" class="fas fa-chevron-down text-xs transition-transform"></i>
          </button>
          <div id="dashboard-dropdown" class="hidden pl-6 bg-gray-800 rounded-sm">
            <a href="#" class="sidebar-link block px-4 py-2 text-gray-300 hover:text-white transition">
              <i class="fas fa-chart-line mr-2"></i> Analíticas
            </a>
            <a href="#" class="sidebar-link block px-4 py-2 text-gray-300 hover:text-white transition">
              <i class="fas fa-chart-pie mr-2"></i> Reportes
            </a>
            <a href="#" class="sidebar-link block px-4 py-2 text-gray-300 hover:text-white transition">
              <i class="fas fa-tachometer-alt mr-2"></i> Rendimiento
            </a>
          </div>
        </div>
        <a href="#" class="sidebar-link block px-4 py-2 text-gray-300 hover:text-white transition">
          <i class="fas fa-cog mr-2"></i> Configuración
        </a>
      </nav>
      <div class="absolute bottom-0 w-64 border-t border-gray-700">
        <a href="#" class="sidebar-link block px-4 py-3 text-gray-300 hover:text-white transition bg-blue-600 bg-opacity-20">
          <i class="fas fa-user mr-2"></i> Perfil
        </a>
        <a href="#" class="sidebar-link block px-4 py-3 text-gray-300 hover:text-white transition">
          <i class="fas fa-sign-out-alt mr-2"></i> Cerrar Sesión
        </a>
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
      <!-- Top Navigation -->
      <header class="bg-white shadow-sm z-10">
        <div class="flex items-center justify-between p-4">
          <div class="flex items-center">
            <button id="sidebar-toggle" class="text-gray-500 focus:outline-none mr-4">
              <i class="fas fa-bars"></i>
            </button>
            <h1 class="text-xl font-medium">Editar Perfil</h1>
          </div>
          <div class="flex items-center">
            <div class="relative mr-4">
              <button id="notification-button" class="text-gray-500 focus:outline-none relative">
                <i class="fas fa-bell"></i>
                <span
                  class="absolute top-0 right-0 -mt-1 -mr-1 bg-red-500 text-white rounded-full text-xs w-4 h-4 flex items-center justify-center">
                  3
                </span>
              </button>
              <!-- Notification Dropdown -->
              <div id="notification-dropdown"
                class="hidden absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg py-1 z-50 notification-dropdown">
                <div class="px-4 py-2 border-b border-gray-200">
                  <div class="flex justify-between items-center">
                    <h3 class="text-sm font-semibold">Notificaciones</h3>
                    <span class="text-xs bg-red-500 text-white px-2 py-0.5 rounded-full">3 nuevas</span>
                  </div>
                </div>
                <!-- Notifications List -->
                <div class="divide-y divide-gray-100">
                  <!-- Unread Notification 1 -->
                  <div class="px-4 py-3 bg-blue-50 hover:bg-gray-50 transition">
                    <div class="flex items-start">
                      <div class="flex-shrink-0 mr-3">
                        <div class="h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white">
                          <i class="fas fa-user-plus"></i>
                        </div>
                      </div>
                      <div class="flex-1">
                        <p class="text-sm font-medium text-gray-900">Nuevo usuario registrado</p>
                        <p class="text-xs text-gray-500 mt-1">María acaba de crear una cuenta en la plataforma.</p>
                        <p class="text-xs text-gray-400 mt-1">Hace 5 minutos</p>
                      </div>
                      <div class="w-2 h-2 bg-blue-500 rounded-full"></div>
                    </div>
                  </div>
                  <!-- More notifications here -->
                </div>
                <div class="px-4 py-2 border-t border-gray-200">
                  <a href="#" class="block text-center text-sm text-blue-600 hover:text-blue-800">Ver todas las
                    notificaciones</a>
                </div>
              </div>
            </div>
            <div class="h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white font-medium">
              JP
            </div>
          </div>
        </div>
      </header>

      <!-- Content -->
      <main class="flex-1 overflow-y-auto p-4">
        <!-- Breadcrumbs -->
        <nav class="mb-6">
          <ol class="flex text-sm text-gray-500">
            <li class="flex items-center">
              <a href="#" class="hover:text-gray-700">Inicio</a>
              <svg class="h-4 w-4 mx-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clip-rule="evenodd" />
              </svg>
            </li>
            <li class="flex items-center">
              <a href="#" class="hover:text-gray-700">Perfil</a>
              <svg class="h-4 w-4 mx-2" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clip-rule="evenodd" />
              </svg>
            </li>
            <li class="text-gray-700 font-medium">Editar Perfil</li>
          </ol>
        </nav>

        <form id="profile-form">
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <!-- Perfil Básico -->
            <div class="lg:col-span-2">
              <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800">Información Personal</h2>
                  <p class="text-sm text-gray-500">Actualiza tu información personal</p>
                </div>
                <div class="p-6 space-y-6">
                  <!-- Foto de perfil -->
                  <div class="flex flex-col sm:flex-row sm:items-center">
                    <div class="flex-shrink-0 mb-4 sm:mb-0 sm:mr-6">
                      <div class="relative">
                        <div id="avatar-preview" class="h-24 w-24 rounded-full bg-blue-500 flex items-center justify-center text-white text-2xl font-medium overflow-hidden">
                          <img id="current-avatar" src="/api/placeholder/150/150" alt="Avatar" class="h-full w-full object-cover hidden">
                          <span id="avatar-initials">JP</span>
                        </div>
                        <label for="avatar-upload" class="absolute bottom-0 right-0 bg-white rounded-full p-1 shadow-md cursor-pointer">
                          <i class="fas fa-camera text-gray-600"></i>
                          <input type="file" id="avatar-upload" class="hidden" accept="image/*">
                        </label>
                      </div>
                    </div>
                    <div>
                      <h3 class="text-lg font-medium text-gray-900">Foto de Perfil</h3>
                      <p class="text-sm text-gray-500 mb-2">JPG, GIF o PNG. Máximo 2MB.</p>
                      <div class="flex space-x-2">
                        <button type="button" id="upload-avatar-btn" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded">
                          Subir nueva
                        </button>
                        <button type="button" id="remove-avatar-btn" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-medium rounded">
                          Eliminar
                        </button>
                      </div>
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Nombre -->
                    <div>
                      <label for="first-name" class="block text-sm font-medium text-gray-700 mb-1">
                        Nombre
                      </label>
                      <input type="text" id="first-name" name="first-name" value="Juan" 
                        class="form-input block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                    </div>
                    
                    <!-- Apellido -->
                    <div>
                      <label for="last-name" class="block text-sm font-medium text-gray-700 mb-1">
                        Apellido
                      </label>
                      <input type="text" id="last-name" name="last-name" value="Pérez" 
                        class="form-input block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                    </div>
                  </div>
                  
                  <div>
                    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                      Correo Electrónico
                    </label>
                    <div class="relative">
                      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                        <i class="fas fa-envelope"></i>
                      </div>
                      <input type="email" id="email" name="email" value="juan@example.com" 
                        class="form-input block w-full pl-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none"
                        readonly>
                      <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                        <span class="text-xs text-gray-500 bg-gray-100 px-2 py-0.5 rounded">
                          Verificado <i class="fas fa-check-circle text-green-500 ml-1"></i>
                        </span>
                      </div>
                    </div>
                    <p class="mt-1 text-xs text-gray-500">Tu correo no se puede cambiar</p>
                  </div>
                  
                  <div>
                    <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">
                      Teléfono
                    </label>
                    <div class="relative">
                      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                        <i class="fas fa-phone"></i>
                      </div>
                      <input type="tel" id="phone" name="phone" value="+52 123 456 7890" 
                        class="form-input block w-full pl-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                    </div>
                  </div>
                  
                  <div>
                    <label for="bio" class="block text-sm font-medium text-gray-700 mb-1">
                      Biografía
                    </label>
                    <textarea id="bio" name="bio" rows="4" 
                      class="form-input block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none"
                      placeholder="Cuéntanos sobre ti...">Desarrollador web con 5 años de experiencia en tecnologías frontend y backend.</textarea>
                  </div>
                </div>
              </div>
              
              <!-- Cambiar Contraseña -->
              <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800">Cambiar Contraseña</h2>
                  <p class="text-sm text-gray-500">Actualiza tu contraseña para mantener segura tu cuenta</p>
                </div>
                <div class="p-6 space-y-6">
                  <!-- Contraseña Actual -->
                  <div>
                    <label for="current-password" class="block text-sm font-medium text-gray-700 mb-1">
                      Contraseña Actual
                    </label>
                    <div class="relative">
                      <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                        <i class="fas fa-lock"></i>
                      </div>
                      <input type="password" id="current-password" name="current-password" 
                        class="form-input block w-full pl-10 pr-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                      <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                        <button type="button" class="toggle-password text-gray-500 hover:text-gray-700 focus:outline-none">
                          <i class="fas fa-eye"></i>
                        </button>
                      </div>
                    </div>
                  </div>
                  
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Nueva Contraseña -->
                    <div>
                      <label for="new-password" class="block text-sm font-medium text-gray-700 mb-1">
                        Nueva Contraseña
                      </label>
                      <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                          <i class="fas fa-lock"></i>
                        </div>
                        <input type="password" id="new-password" name="new-password" 
                          class="form-input block w-full pl-10 pr-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                          <button type="button" class="toggle-password text-gray-500 hover:text-gray-700 focus:outline-none">
                            <i class="fas fa-eye"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Confirmar Nueva Contraseña -->
                    <div>
                      <label for="confirm-password" class="block text-sm font-medium text-gray-700 mb-1">
                        Confirmar Nueva Contraseña
                      </label>
                      <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500">
                          <i class="fas fa-lock"></i>
                        </div>
                        <input type="password" id="confirm-password" name="confirm-password" 
                          class="form-input block w-full pl-10 pr-10 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                        <div class="absolute inset-y-0 right-0 pr-3 flex items-center">
                          <button type="button" class="toggle-password text-gray-500 hover:text-gray-700 focus:outline-none">
                            <i class="fas fa-eye"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <div class="text-sm text-gray-600">
                    <p class="font-medium mb-1">Tu contraseña debe cumplir con:</p>
                    <ul class="space-y-1 pl-5 list-disc text-xs">
                      <li>Al menos 8 caracteres de longitud</li>
                      <li>Al menos una letra mayúscula</li>
                      <li>Al menos un número</li>
                      <li>Al menos un carácter especial</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Columna Derecha -->
            <div class="lg:col-span-1">
              <!-- Preferencias -->
              <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800">Preferencias</h2>
                  <p class="text-sm text-gray-500">Configura tu experiencia</p>
                </div>
                <div class="p-6 space-y-4">
                  <div class="flex items-center justify-between">
                    <div>
                      <h3 class="text-sm font-medium text-gray-700">Notificaciones por correo</h3>
                      <p class="text-xs text-gray-500">Recibe actualizaciones importantes</p>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="email-notifications" checked>
                      <span class="relative inline-flex items-center h-6 rounded-full w-11 bg-blue-500">
                        <span class="absolute h-4 w-4 left-1 bg-white rounded-full transition-transform transform translate-x-5"></span>
                      </span>
                    </label>
                  </div>
                  
                  <div class="flex items-center justify-between">
                    <div>
                      <h3 class="text-sm font-medium text-gray-700">Notificaciones push</h3>
                      <p class="text-xs text-gray-500">Para alertas en tiempo real</p>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="push-notifications">
                      <span class="relative inline-flex items-center h-6 rounded-full w-11 bg-gray-300">
                        <span class="absolute h-4 w-4 left-1 bg-white rounded-full transition-transform"></span>
                      </span>
                    </label>
                  </div>
                  
                  <div class="flex items-center justify-between">
                    <div>
                      <h3 class="text-sm font-medium text-gray-700">Modo oscuro</h3>
                      <p class="text-xs text-gray-500">Cambiar apariencia de la aplicación</p>
                    </div>
                    <label class="switch">
                      <input type="checkbox" id="dark-mode">
                      <span class="relative inline-flex items-center h-6 rounded-full w-11 bg-gray-300">
                        <span class="absolute h-4 w-4 left-1 bg-white rounded-full transition-transform"></span>
                      </span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Idioma y Zona Horaria -->
              <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800">Localización</h2>
                  <p class="text-sm text-gray-500">Idioma y zona horaria</p>
                </div>
                <div class="p-6 space-y-4">
                  <div>
                    <label for="language" class="block text-sm font-medium text-gray-700 mb-1">
                      Idioma
                    </label>
                    <select id="language" name="language"
                      class="form-select block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                      <option value="es" selected>Español</option>
                      <option value="en">English</option>
                      <option value="fr">Français</option>
                      <option value="de">Deutsch</option>
                    </select>
                  </div>
                  
                  <div>
                    <label for="timezone" class="block text-sm font-medium text-gray-700 mb-1">
                      Zona horaria
                    </label>
                    <select id="timezone" name="timezone"
                      class="form-select block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none">
                      <option value="America/Mexico_City" selected>(GMT-6) Ciudad de México</option>
                      <option value="America/New_York">(GMT-5) Nueva York</option>
                      <option value="Europe/Madrid">(GMT+1) Madrid</option>
                      <option value="Asia/Tokyo">(GMT+9) Tokio</option>
                    </select>
                  </div>
                </div>
              </div>
              
              <!-- Cuenta Vinculada -->
              <div class="bg-white rounded-lg shadow-sm overflow-hidden mb-6">
                <div class="p-6 border-b border-gray-200">
                  <h2 class="text-lg font-semibold text-gray-800">Cuentas vinculadas</h2>
                  <p class="text-sm text-gray-500">Conecta tus otras cuentas</p>
                </div>
                <div class="p-6 space-y-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white mr-3">
                        <i class="fab fa-google"></i>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-700">Google</h3>
                        <p class="text-xs text-gray-500">Conectado como juan@gmail.com</p>
                      </div>
                    </div>
                    <button type="button" class="text-sm font-medium text-red-600 hover:text-red-800">
                      Desconectar
                    </button>
                  </div>
                  
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="h-8 w-8 rounded-full bg-gray-400 flex items-center justify-center text-white mr-3">
                        <i class="fab fa-microsoft"></i>
                      </div>
                      <div>
                        <h3 class="text-sm font-medium text-gray-700">Microsoft</h3>
                        <p class="text-xs text-gray-500">No conectado</p>
                      </div>
                    </div>
                    <button type="button" class="text-sm font-medium text-blue-600 hover:text-blue-800">
                      Conectar
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Buttons -->
          <div class="flex items-center justify-end space-x-4 mb-10">
            <button type="button" id="cancel-button" class="px-4 py-2 bg-white border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none">
              Cancelar
            </button>
            <button type="submit" id="save-button" class="px-4 py-2 bg-blue-500 border border-transparent rounded-md shadow-sm text-sm font-medium text-white hover:bg-blue-600 focus:outline-none">
              Guardar Cambios
            </button>
          </div>
        </form>
      </main>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Sidebar toggle functionality
      const sidebarToggle = document.getElementById('sidebar-toggle');
      const sidebar = document.getElementById('sidebar');

      sidebarToggle.addEventListener('click', () => {
        sidebar.classList.toggle('-translate-x-full');
        sidebar.classList.toggle('md:translate-x-0');
        sidebar.classList.toggle('md:block');
        sidebar.classList.toggle('fixed');
        sidebar.classList.toggle('h-full');
        sidebar.classList.toggle('z-50');
      });

      // Dashboard dropdown
      const dashboardDropdownButton = document.getElementById('dashboard-dropdown-button');
      const dashboardDropdown = document.getElementById('dashboard-dropdown');
      const dashboardChevron = document.getElementById('dashboard-chevron');

      dashboardDropdownButton.addEventListener('click', () => {
        dashboardDropdown.classList.toggle('hidden');
        dashboardChevron.classList.toggle('rotate-180');
      });

      // Notifications dropdown
      const notificationButton = document.getElementById('notification-button');
      const notificationDropdown = document.getElementById('notification-dropdown');

      notificationButton.addEventListener('click', (e) => {
        e.stopPropagation();
        notificationDropdown.classList.toggle('hidden');
      });

      // Close dropdowns when clicking outside
      document.addEventListener('click', (event) => {
        if (!dashboardDropdownButton.contains(event.target) && !dashboardDropdown.contains(event.target)) {
          dashboardDropdown.classList.add('hidden');
          dashboardChevron.classList.remove('rotate-180');
        }

        if (!notificationButton.contains(event.target) && !notificationDropdown.contains(event.target)) {
          notificationDropdown.classList.add('hidden');
        }
      });

      // Password toggle visibility
      const toggleButtons = document.querySelectorAll('.toggle-password');
      toggleButtons.forEach(button => {
        button.addEventListener('click', function() {
          const input = this.closest('.relative').querySelector('input');
          const icon = this.querySelector('i');
          
          if (input.type === 'password') {
            input.type = 'text';
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
          } else {
            input.type = 'password';
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
          }
        });
      });

     // Toggle switches
     const toggleSwitches = document.querySelectorAll('input[type="checkbox"]');
        toggleSwitches.forEach(toggle => {
          toggle.addEventListener('change', function() {
            const switchSpan = this.nextElementSibling;
            if (this.checked) {
              switchSpan.classList.remove('bg-gray-300');
              switchSpan.classList.add('bg-blue-500');
              switchSpan.querySelector('span').classList.add('translate-x-5');
            } else {
              switchSpan.classList.remove('bg-blue-500');
              switchSpan.classList.add('bg-gray-300');
              switchSpan.querySelector('span').classList.remove('translate-x-5');
            }
          });
        });

        // Avatar upload functionality
        const avatarUpload = document.getElementById('avatar-upload');
        const uploadAvatarBtn = document.getElementById('upload-avatar-btn');
        const removeAvatarBtn = document.getElementById('remove-avatar-btn');
        const avatarPreview = document.getElementById('avatar-preview');
        const currentAvatar = document.getElementById('current-avatar');
        const avatarInitials = document.getElementById('avatar-initials');

        uploadAvatarBtn.addEventListener('click', function() {
          avatarUpload.click();
        });

        avatarUpload.addEventListener('change', function(event) {
          if (event.target.files && event.target.files[0]) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
              currentAvatar.src = e.target.result;
              currentAvatar.classList.remove('hidden');
              avatarInitials.classList.add('hidden');
            }
            
            reader.readAsDataURL(event.target.files[0]);
          }
        });

        removeAvatarBtn.addEventListener('click', function() {
          avatarUpload.value = "";
          currentAvatar.classList.add('hidden');
          avatarInitials.classList.remove('hidden');
        });

        // Form submission
        const profileForm = document.getElementById('profile-form');
        const saveButton = document.getElementById('save-button');
        const cancelButton = document.getElementById('cancel-button');

        profileForm.addEventListener('submit', function(event) {
          event.preventDefault();
          
          // Show loading state
          saveButton.disabled = true;
          saveButton.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Guardando...';
          
          // Simulate form submission
          setTimeout(() => {
            // Show success message
            const successMessage = document.createElement('div');
            successMessage.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg flex items-center';
            successMessage.innerHTML = '<i class="fas fa-check-circle mr-2"></i> Perfil actualizado con éxito';
            document.body.appendChild(successMessage);
            
            // Reset button state
            saveButton.disabled = false;
            saveButton.innerHTML = 'Guardar Cambios';
            
            // Remove message after 3 seconds
            setTimeout(() => {
              successMessage.remove();
            }, 3000);
          }, 1500);
        });

        cancelButton.addEventListener('click', function() {
          // Reset form or navigate back
          window.location.href = '#';
        });

        // Password validation
        const newPassword = document.getElementById('new-password');
        const confirmPassword = document.getElementById('confirm-password');
        
        confirmPassword.addEventListener('input', function() {
          if (this.value !== newPassword.value) {
            this.setCustomValidity('Las contraseñas no coinciden');
          } else {
            this.setCustomValidity('');
          }
        });

        newPassword.addEventListener('input', function() {
          // Basic password validation
          const password = this.value;
          const hasUpperCase = /[A-Z]/.test(password);
          const hasNumber = /[0-9]/.test(password);
          const hasSpecial = /[!@#$%^&*]/.test(password);
          const isLongEnough = password.length >= 8;
          
          if (!isLongEnough || !hasUpperCase || !hasNumber || !hasSpecial) {
            this.setCustomValidity('La contraseña no cumple con los requisitos');
          } else {
            this.setCustomValidity('');
            // Also check confirm password field
            if (confirmPassword.value && confirmPassword.value !== password) {
              confirmPassword.setCustomValidity('Las contraseñas no coinciden');
            } else {
              confirmPassword.setCustomValidity('');
            }
          }
        });
      });
    </script>
  </body>
</html>